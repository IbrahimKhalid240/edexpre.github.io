<!DOCTYPE html>
<html lang="en">

<head>
    <link
    rel="stylesheet"
    data-purpose="Layout StyleSheet"
    title="Web Awesome"
    href="/css/app-wa-a60ddbceb7292f11c9e430d067b1eb9f.css?vsn=d"
  >

    <link
      rel="stylesheet"
      href="https://site-assets.fontawesome.com/releases/v6.5.2/css/all.css"
    >

    <link
      rel="stylesheet"
      href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-thin.css"
    >

    <link
      rel="stylesheet"
      href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-solid.css"
    >

    <link
      rel="stylesheet"
      href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-regular.css"
    >

    <link
      rel="stylesheet"
      href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-light.css"
    >

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDEXPRE | LOGIN</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<style>
    @import url(https://fonts.googleapis.com/css?family=Roboto:300);

    header .header {
        background-color: #fff;
        height: 45px;
    }

    header a img {
        width: 134px;
        margin-top: 4px;
    }

    .login-page {
        width: 360px;
        padding: 8% 0 0;
        margin: auto;
    }

    .login-page .form .login {
        margin-top: -31px;
        margin-bottom: 26px;
    }

    .form {
        border-radius: 15px 15px 15px 15px;
        position: relative;
        z-index: 1;
        background: #FFFFFF;
        max-width: 360px;
        margin-top: -50px;
        padding: 45px;
        text-align: center;
        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        height: 450px; /* Initial height */
        overflow: hidden; /* Hide overflow content */
        transition: height 0.5s; /* Add transition for smooth height adjustment */
        background-color: white;
    }

    .form input {
        font-family: "Roboto", sans-serif;
        outline: 0;
        background: #f2f2f2;
        width: 100%;
        border: 0;
        margin: 0 0 15px;
        padding: 15px;
        box-sizing: border-box;
        font-size: 14px;
        padding-left: 40px; /* Add padding for the icon */
    }

    .form input[type="email"] {
        background-repeat: no-repeat;
        background-position: 10px center;
    }

    .form input[type="password"] {
        background-repeat: no-repeat;
        background-position: 10px center;
    }

    .form button {
            font-family: "Roboto", sans-serif;
            text-transform: uppercase;
            outline: 0;
            background-image: linear-gradient(to right, #1FA2FF 0%, #1FA2FF 100%);
            width: 90px;
            height: 30px;
            margin-left: 195px;
            border: 0;
            padding: 5px 10px; /* Corrected padding */
            color: #FFFFFF;
            font-size: 14px;
            -webkit-transition: all 0.3s ease; /* Added 's' for seconds */
            transition: all 0.3s ease; /* Added 's' for seconds */
            cursor: pointer;
            display: inline-block; /* Ensuring margins are respected */
            margin-top: 13px;
        }
    .form button:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
    }

    form button:active {
    transform: translateX(10px);
}


    .form .message {
        margin-top: 20px;
        margin-left: -150px;
        color: #b3b3b3;
        font-size: 12px;
        position: relative; /* Added position relative */
    }

    .form .message a {
        color: #4CAF50;
        text-decoration: none;
    }

    .container {
        position: relative;
        z-index: 1;
        max-width: 300px;
        margin: 0 auto;
    }

    body {
    background: url("Artificial-Intelligence-AI-Story.jpg");
    background-size: 4000% 100%;
    animation: colorChange 10s linear infinite; /* Use the correct animation name */
    font-family: "Roboto", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

@keyframes colorChange {
    0% {
        background-position: 0% 50%;
    }
    100% {
        background-position: 100% 50%;
    }
}



    /* Style for the show password button */
    .show-password-btn {
        position: absolute;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);
        cursor: pointer;
    }

    .forgot {
    text-decoration: none;
    color: red;
    font-size: 12px;
    position: absolute;
    margin-bottom: 30px; /* Adjust as needed */
    left: 50px; /* Adjust as needed */
}




    .forgot a {
        color: red;
        text-decoration: none;
    }

    .forgot a:hover {
        text-decoration: underline;
    }

    .authenticating {
        color: #000;
        font-size: 15px;
        font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        margin-top: 59px;
        margin-left: 115px;
        display: none;
        white-space: nowrap; /* Prevent line breaks */
    }

    /* Style for the loader */
    .loader {
        display: none;
        margin-left: 5px; /* Adjust the margin as needed */
        width: 50px; /* Adjust the width as needed */
        height: 50px; /* Adjust the height as needed */
        vertical-align: middle; /* Align the loader vertically */
        margin-top: -30px;
        margin-left: 240px;
    }

    #caps-lock-alert {
        display: none;
        position: fixed;
        top: 10px;
        right: 10px;
        background-color: #ffcc00;
        color: black;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #aaa;
        animation: fadeAlert 0.5s forwards;
    }

    @keyframes fadeAlert {
        0% {
            opacity: 0;
        }

        100% {
            opacity: 1;
        }
    }

    /* Animation for sliding up */
    @keyframes slideDown {
    0% { height: 400px; } /* Initial height */
    100% { height: 517px; } /* Adjusted height */
}

/* CSS for sliding up animation */
@keyframes slideUp {
    0% { height: 500px; } /* Adjusted height */
    100% { height: 450px; } /* Initial height */
}

.secured-text {
    background-color: #0bded3; /* Change the background color to your desired color */
    color: #000; /* Change the text color to white or any color that suits your design */
    text-align: center;
    padding: 10px 0; /* Adjust padding as needed */
    font-weight: bold;
    margin-bottom: 20px; /* Adjust margin as needed */
    position: relative; /* Position the text relative to the form */
    top: -50px; /* Position above the form */
    left: 50%; /* Center horizontally */
    transform: translateX(-50%); /* Center horizontally */
    background-image: url('path/to/your/image.jpg'); /* Add the path to your background image */
    background-size: cover; /* Adjust the background size as needed */
    animation: spin 5s linear infinite;
    border-radius: 10px 10px 10px 10px;
}

@keyframes spin {
    0% {
        transform: translateX(100%);
    }
    10% {
        transform: translateX(50%);
    }
    100%{
        transform: translateX(-200%);
    }
}

.footer {
    text-align: center;
    font-size: 12px;
    color: #888; /* Adjust color as needed */
    margin-top: 20px; /* Adjust margin as needed */
}

.hover1:hover{
    opacity: 0.7;
    
}

.hover2:hover{
    opacity: 0.7;
    
}

input[type="checkbox"] {
            height: 20px;
            width: 20px;
            margin-top: 15px;
            margin-right: 15px;
            accent-color: green;
        }

        .checkbox-wrapper-30 {
            display: flex;
            align-items: center;
        }

        .checkbox-wrapper-30 .checkbox {
            --bg: #fff;
            --brdr: #d1d6ee;
            --brdr-actv: #1e2235;
            --brdr-hovr: #bbc1e1;
            --dur: calc((var(--size, 2)/2) * 0.6s);
            display: inline-block;
            width: calc(var(--size, 1) * 22px);
            position: relative;
        }

        .checkbox-wrapper-30 .checkbox:after {
            content: "";
            width: 100%;
            padding-top: 100%;
            display: block;
        }

        .checkbox-wrapper-30 .checkbox > * {
            position: absolute;
        }

        .checkbox-wrapper-30 .checkbox input {
            -webkit-appearance: none;
            -moz-appearance: none;
            -webkit-tap-highlight-color: transparent;
            cursor: pointer;
            background-color: var(--bg);
            border-radius: calc(var(--size, 1) * 4px);
            border: calc(var(--newBrdr, var(--size, 1)) * 1px) solid;
            color: var(--newBrdrClr, var(--brdr));
            outline: none;
            margin: 0;
            padding: 0;
            transition: all calc(var(--dur) / 3) linear;
        }

        .checkbox-wrapper-30 .checkbox input:hover,
        .checkbox-wrapper-30 .checkbox input:checked {
            --newBrdr: calc(var(--size, 1) * 2);
        }

        .checkbox-wrapper-30 .checkbox input:hover {
            --newBrdrClr: var(--brdr-hovr);
        }

        .checkbox-wrapper-30 .checkbox input:checked {
            --newBrdrClr: var(--brdr-actv);
            transition-delay: calc(var(--dur) /1.3);
        }

        .checkbox-wrapper-30 .checkbox input:checked + svg {
            --dashArray: 16 93;
            --dashOffset: 109;
        }

        .checkbox-wrapper-30 .checkbox svg {
            fill: none;
            left: 0;
            pointer-events: none;
            stroke: var(--stroke, var(--border-active));
            stroke-dasharray: var(--dashArray, 93);
            stroke-dashoffset: var(--dashOffset, 94);
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-width: 2px;
            top: 0;
            transition: stroke-dasharray var(--dur), stroke-dashoffset var(--dur);
        }

        .checkbox-wrapper-30 .checkbox svg,
        .checkbox-wrapper-30 .checkbox input {
            display: block;
            height: 100%;
            width: 100%;
            margin-top: 10px;
        }

.text{
    position: absolute;
    margin-left: 30px;
    margin-top: 15px;
    font-size: 15px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

label{
    position: absolute;
    margin-top: 20px;
    margin-left: 30px;
}

</style>

<body>
    <audio id="successSound">
        <source src="success.mp3" type="audio/mpeg">
    </audio>
    <audio id="errorSound">
        <source src="error.mp3" type="audio/mpeg">
    </audio>
    <div class="login-page">
        <div class="form">
            <div id="caps-lock-alert">Caps Lock is on!</div>
            <div class="secured-text">Secured</div>
            <div class="login">
                <div class="login-header">
                    <h3>E D E X P R E &nbsp;<i class="fa-thin fa-check"></i></h3>
                    <p>Please enter your credentials for <br /> <b> Log in</b></p>
                </div>
            </div>
            <form class="login-form" id="loginForm" style="position: relative;">
                <div style="position:relative;">
                    <input type="email" class="form-control" placeholder="E-mail" id="loginEmail" required />
                    <i class="fas fa-envelope"
                        style="position:absolute; margin-left: -260px;margin-top: 23px; transform:translateY(-50%);"></i>
                </div>
                <div style="position:relative;">
                    <input type="password" class="form-control" placeholder="Password" id="loginPassword" required autocomplete="off"
                        readonly onfocus="this.removeAttribute('readonly');">

                    <i class="fas fa-lock"
                        style="position:absolute; margin-left: -260px;margin-top: 23px; transform:translateY(-50%);"></i>
                    <!-- Show password button -->
                    <i class="fas fa-eye show-password-btn" style="margin-top: -6px;"
                        onclick="togglePasswordVisibility('loginPassword')"></i>
                </div>
                <div class="checkbox-wrapper-30">
                    <span class="checkbox">
                        <input type="checkbox" id="checkbox" />
                        <svg>
                            <use xlink:href="#checkbox-30" class="checkbox"></use>
                        </svg>
                    </span>
                    <label for="checkbox">Remember me</label>
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
                    <symbol id="checkbox-30" viewBox="0 0 22 22">
                        <path fill="none" stroke="currentColor" d="M5.5,11.3L9,14.8L20.2,3.3l0,0c-0.5-1-1.5-1.8-2.7-1.8h-13c-1.7,0-3,1.3-3,3v13c0,1.7,1.3,3,3,3h13 c1.7,0,3-1.3,3-3v-13c0-0.4-0.1-0.8-0.3-1.2"/>
                    </symbol>
                </svg>
                <button type="button" class="btn btn-primary" onclick="attemptLogin()">Log In &nbsp; <i class="fa-solid fa-right-to-bracket"></i></button><br>
                <p>Or login with:</p>
                <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                    <img src="microsoft.png" alt="Microsoft" style="width: 35px; margin-left: 80px;" class="hover1">
                    <img src="google.jpeg" alt="Google" style="width: 35px; margin-right: 80px;" class="hover2">
                </div>
                <p class="message">Not registered? <a href="gol.html">Create an account</a> </p>
                <hr></hr>
                <a href="forgotpass.html" class="forgot">Forgot Email | Forgot Password</a>
                <div class="authenticating" id="authenticating" style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;"> Authenticating... &nbsp</div>
                
                  <img src="Pulse-1s-263px (1).gif" alt="Loader" class="loader">
                <br>
                <div class="footer">
                    <!-- Copyright EDEXPRE 2020-2025 -->
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Your custom script -->
    <!-- Your custom script --> 
    <script>
        async function sha256(input) {
    const encoder = new TextEncoder();
    const data = encoder.encode(input);
    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');
}

async function attemptLogin() {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    const authenticatingMessage = document.getElementById('authenticating');
    const loader = document.querySelector('.loader');

    if (!email && !password) {
        showErrorMessage('Both fields are missing');
        return;
    }

    if (!email) {
        showErrorMessage('Please enter your email');
        return;
    }

    if (!password) {
        showErrorMessage('Please enter your password');
        return;
    }

    if (!email.includes('@')) {
        showErrorMessage('Invalid email format. Please enter a valid email address.');
        return;
    }

    // Show "Authenticating..." text and loader
    authenticatingMessage.style.display = 'block';
    loader.style.display = 'block';

    // Slide down the form with animation
    document.querySelector('.form').style.animation = 'slideDown 0.5s forwards';

    // Add a delay of 1 second before attempting to log in
    setTimeout(async () => {
        // Retrieve hashed password from localStorage
        const storedAccountString = localStorage.getItem(email);

        if (!storedAccountString) {
            showErrorMessage('Account not found. Please check your email or sign up.');
            // Hide "Authenticating..." text and loader
            authenticatingMessage.style.display = 'none';
            loader.style.display = 'none';
            return;
        }

        const storedAccount = JSON.parse(storedAccountString);
        const storedHashedPassword = storedAccount.password;
        const storedUsername = storedAccount.username;

        // Verify entered password with stored hashed password
        const enteredHashedPassword = await sha256(password);

        if (enteredHashedPassword === storedHashedPassword) {
            showSuccessMessage('Welcome ' + storedUsername + '!');
            // Redirect to the next page
            // window.location.href = 'nextpage.html';
        } else {
            showError('Incorrect password. Please try again.');
        }

        // Hide "Authenticating..." text and loader
        authenticatingMessage.style.display = 'none';
        loader.style.display = 'none';

        // Slide up the form after hiding the message
        document.querySelector('.form').style.animation = 'slideUp 0.5s forwards';
    }, 3000);
}

function showSuccessMessage(message) {
    Swal.fire({
        icon: 'success',
        title: 'Login Successful',
        text: message,
        showConfirmButton: false,
        timer: 2000,
    });
    // Play success sound
    document.getElementById('successSound').play();
    setTimeout(function () {
        // Redirect to the next page
        window.location.href = 'index1.html';
    }, 2000);
}

function showError(message) {
    Swal.fire({
        icon: 'error',
        title: 'Error',
        text: message,
        showConfirmButton: false,
        timer: 1500,
    });
    // Play error sound
    document.getElementById('errorSound').play();
    // Slide up the form after hiding the message
    document.querySelector('.form').style.animation = 'slideUp 0.5s forwards';
}

function showErrorMessage(message) {
    Swal.fire({
        icon: 'error',
        title: 'Error',
        text: message,
        showConfirmButton: false,
        timer: 1500,
    });
    // Play error sound
    document.getElementById('errorSound').play();
    // Slide up the form after hiding the message
    document.querySelector('.form').style.animation = 'slideUp 0.5s forwards';
}

function togglePasswordVisibility(inputId) {
    const passwordInput = document.getElementById(inputId);
    const eyeIcon = document.querySelector('.show-password-btn');

    if (passwordInput.type === "password") {
        passwordInput.type = "text";
        eyeIcon.classList.remove('fa-eye');
        eyeIcon.classList.add('fa-eye-slash');
    } else {
        passwordInput.type = "password";
        eyeIcon.classList.remove('fa-eye-slash');
        eyeIcon.classList.add('fa-eye');
    }
}

document.addEventListener('DOMContentLoaded', function () {
    const capsAlert = document.getElementById('caps-lock-alert');
    const emailField = document.getElementById('loginEmail');
    const passwordField = document.getElementById('loginPassword');
    let isCapsOn = false;

    function checkCapsLock(event) {
        const capsLockOn = event.getModifierState && event.getModifierState('CapsLock');
        if (capsLockOn && !isCapsOn) {
            isCapsOn = true;
            capsAlert.style.display = 'block';
        } else if (!capsLockOn && isCapsOn) {
            isCapsOn = false;
            capsAlert.style.display = 'none';
        }
    }

    emailField.addEventListener('keypress', checkCapsLock);
    emailField.addEventListener('keyup', checkCapsLock);
    passwordField.addEventListener('keypress', checkCapsLock);
    passwordField.addEventListener('keyup', checkCapsLock);
});


    </script>
</body>

</html>
